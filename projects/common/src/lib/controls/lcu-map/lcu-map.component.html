<div class="icon-list">
  <div>
    <div class="top-icon-set">
      <mat-icon class="hamburger-icon">menu</mat-icon>
      <mat-icon class="chevron-icon">chevron_left</mat-icon>
    </div>
    <div class="bottom-icon-set" fxLayoutAlign.lt-sm="flex-start" fxLayoutAlign="space-around" fxLayoutGap.lt-sm="50px">
      <mat-icon>search</mat-icon>
      <mat-icon (click)="ActivateSaveMapDialog(map)">add</mat-icon>
      <mat-icon mat-button [matMenuTriggerFor]="layerMenu">layers</mat-icon>
    </div>
  </div>
</div>

<agm-map #map [latitude]="CurrentMapModel.origin.lat" [longitude]="CurrentMapModel.origin.lng"
  [title]="CurrentMapModel.title" [zoom]="CurrentMapModel.zoom" (mapDblClick)="OnMapDoubleClicked($event)"
  (mapClick)="OnChoseLocation($event)" [usePanning]="true" [fullscreenControl]='true' [mapTypeControl]='true'>
  <div *ngFor="let marker of CurrentMapModel.locationList">
    <agm-marker [latitude]="marker.lat" [longitude]="marker.lng" [title]="marker.title"
      [iconUrl]="marker.iconImageObject"></agm-marker>
    <div *ngFor="let marker of SecondaryLocations">
      <agm-marker *ngIf="marker.showMarker" [latitude]="marker.lat" [longitude]="marker.lng" [title]="marker.title"
        [iconUrl]="marker.iconImageObject"></agm-marker>
    </div>
  </div>
</agm-map>

<!-- the menu for the map layers button -->
<mat-menu #layerMenu="matMenu" id="layer-menu">
  <mat-checkbox (click)="$event.stopPropagation();LayerClicked(map)" *ngFor="let map of SecondaryMaps">{{ map.title }}
  </mat-checkbox>
</mat-menu>