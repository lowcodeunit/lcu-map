<!-- Modal -->
<div id="dialogRef" fxLayout="column" class="basic-info-window">
  <mat-card-header fxLayout="row" fxLayoutAlign="space-between start">
    <!-- if both website and title exist then the title is the link to the website -->
    <!-- <mat-card-title *ngIf="BasicInfoData?.title && BasicInfoData?.website" fxLayout="row" fxLayoutAlign="start">
      <a *ngIf="BasicInfoData?.website" class="link" href={{BasicInfoData.website}} target="_blank" style="margin-right: 2em">{{BasicInfoData.title}}</a>
    </mat-card-title> -->

    <!-- The title -->
    <mat-card-title *ngIf="BasicInfoData?.title" fxLayout="row" fxLayoutAlign="space-between start"
      style="margin-right: 2em; margin-bottom: 1em; font-size: 24px">
      {{BasicInfoData.title}}
    </mat-card-title>
    <!-- close button -->
    <mat-icon fxFlex fxLayoutAlign="end start" (click)="Close()" matTooltip="Close">close</mat-icon>
  </mat-card-header>


  <!-- content with scroll bar  -->
  <mat-dialog-content class="mat-dialog-content">
    <!-- display basic data -->
    <div *ngIf="ModalState === 'basic'" class="basic-info" fxLayout="column" fxLayoutAlign="start start"
      class="marker-info-container">
      <p *ngIf="Type" style="margin:0; color:grey">{{Type}}</p>

      <div *ngIf="BasicInfoData?.address">{{BasicInfoData?.address}}</div>
      <div *ngIf="BasicInfoData?.town || BasicInfoData?.country || BasicInfoData?.state">
        {{BasicInfoData?.town}}, {{BasicInfoData?.state}}
        {{BasicInfoData?.country}}</div>
      <div *ngIf="BasicInfoData?.phoneNumber">{{BasicInfoData?.phoneNumber}}</div>

      <!-- </div> -->
    </div>

    <!-- form data add to map -->
    <div *ngIf="ModalState === 'addToMap'">
      <form fxLayout="column" fxLayoutAlign="center center" [formGroup]="NewMarkerForm" fxLayoutGap="30px">
        <mat-form-field>
          <mat-label>Marker Title</mat-label>
          <input type="text" matInput formControlName="title">
          <mat-hint>The title for the map marker</mat-hint>
          <mat-error>Invalid or missing title</mat-error>
        </mat-form-field>
        <!-- <mat-form-field>
          <mat-label>Icon</mat-label>
          <mat-select formControlName="icon">
            <mat-option *ngFor="let icon of MarkerSet" [value]="icon">{{icon.iconName}}</mat-option>
          </mat-select>
        </mat-form-field> -->
        <div style="width: 100%">
          <div fxLayout="row wrap" fxLayoutGap="10px">
            <img class="available-images" [ngClass]="{'chosen-icon': icon === ChosenIcon}"
              *ngFor="let icon of MarkerSet" src="{{icon.iconUrl}}" (click)="SetIcon(icon)" />
          </div>
        </div>
        <!-- <mat-form-field>
            <mat-label>Notes</mat-label>
            <input type="text" matInput formControlName="notes">
            <mat-hint>Add Notes for this location</mat-hint>
          </mat-form-field> -->
      </form>
    </div>

    <!-- More Info expansion panel -->

    <div class="more-info-container" *ngIf="ModalState === 'moreInfo'" fxLayout="column" fxLayoutAlign="start start">
      <!-- <h2 *ngIf="BasicInfoData?.title">{{BasicInfoData.title}}</h2> -->


      <!-- <a *ngIf="BasicInfoData?.reservations" href={{BasicInfoData?.reservations}} class="button">Reservations</a>
      <a *ngIf="BasicInfoData?.menu" href={{BasicInfoData?.menu}} class="button">Menu</a> -->
      <!-- </div> -->
      <mat-tab-group mat-stretch-tabs>
          <mat-tab label="General"> 

            <p style="margin-top: 1.5em; margin-bottom: 1.5em">Voting Blah Blah Blah</p>
            
            <div class="customHr">.</div>
            
            <div *ngIf="BasicInfoData?.address" style="margin-top: 0.5em;">{{BasicInfoData?.address}}</div>
            <div *ngIf="BasicInfoData?.town || BasicInfoData?.country || BasicInfoData?.state" >
              {{BasicInfoData?.town}}, {{BasicInfoData?.state}}
              {{BasicInfoData?.country}}</div>
              <div *ngIf="LinkedPhoneNumber" class="link" style="margin-bottom: 0.5em;">{{BasicInfoData?.phoneNumber}}</div>

              <div class="links" fxLayout="row" fxLayoutAlign="space-between center">
                  <!-- <a *ngIf="LinkedPhoneNumber" class="link" href={{LinkedPhoneNumber}} mat-icon-button>
                    <mat-icon title="Call {{LinkedPhoneNumber}}">call</mat-icon>
                  </a> -->
          
                  <a *ngIf="BasicInfoData?.website" class="link" href={{BasicInfoData?.website}} target="_blank" mat-icon-button>
                    <mat-icon title="Website">public</mat-icon>
                  </a>
          
                  <a class="link" *ngIf="InstagramUrl" href={{InstagramUrl}} target="_blank" mat-icon-button>
                    <img src="./assets/instagram_glyph.png" alt="" height="20px" width="20px" title="Instagram">
                  </a>
          
                  <!-- <a *ngIf="BasicInfoData?.menu" class="link" href={{BasicInfoData?.menu}} target="_blank" mat-icon-button>
                    <mat-icon title="Menu">restaurant_menu</mat-icon>
                  </a> -->
                  
                  <!-- NO FUNCTIONALITY -->
                  <a *ngIf="BasicInfoData?.reservations" href={{BasicInfoData?.reservations}} target="_blank" mat-icon-button>
                    <mat-icon title="Reservations">book_mark</mat-icon>
                  </a>
          
                  <!-- NO FUNCTIONALITY -->
                  <a class="link" target="_blank" mat-icon-button>
                    <mat-icon title="Directions">directions</mat-icon>
                  </a>
          
                </div>

          </mat-tab>


          <mat-tab label="Content"> 
              <p style="margin-top: 0.75em; margin-bottom:0em; color:grey">Notes</p>
              <p *ngIf="BasicInfoData?.notes" style="margin-top: 0em; margin-bottom: 0em">{{BasicInfoData?.notes}}</p>

              <p style="margin-top: 0.75em; margin-bottom:0em; color:grey">Photos</p>
              <div *ngIf="BasicInfoData?.photos" class="info-photo-container" style="margin-bottom: 0.5em;">

                  <img *ngFor="let photo of BasicInfoData?.photos" src="{{photo}}" />
                </div>

              <p style="margin-top: 0.75em; margin-bottom:0em; color:grey">Links</p>

          </mat-tab>


          <mat-tab label="Travel"> 
            <p style="margin-top: 1.5em">Country: USA</p>
          </mat-tab>
        </mat-tab-group>

      
        
      

      <!-- <a *ngIf="BasicInfoData?.website" href={{BasicInfoData?.website}}>Website</a> -->


      <!-- refrence to angular star rating repo https://github.com/BioPhoton/angular-star-rating/wiki/Property-bindings -->
      <!-- <p *ngIf="BasicInfoData?.awards" style="margin-top: 0.5em; margin-bottom: 0em; color:grey">Awards</p>
      <div *ngIf="BasicInfoData?.awards">{{BasicInfoData?.awards}}</div>
      <a *ngIf="BasicInfoData?.media" href={{BasicInfoData?.Media}}>Media</a>
      <p *ngIf="BasicInfoData?.generalInfo" style="margin-top: 0.75em; margin-bottom:0em; color:grey">General Info</p>
      <p *ngIf="BasicInfoData?.generalInfo" style="margin-top: 0em">{{BasicInfoData?.generalInfo}}</p>
      <div class="customHr">.</div> -->
      

    </div>
  </mat-dialog-content>

  <!-- Buttons -->

  <mat-dialog-actions class="button-container" fxLayout="row" fxLayoutAlign="space-between end" style="float:bottom">

    <button *ngIf="ModalState === 'addToMap'" mat-button mat-raised-button [mat-dialog-close]="NewMarker"
      (click)="SetMarkerData()" [disabled]="NewMarkerForm.invalid">Save</button>
    <button *ngIf="ModalState === 'addToMap'" mat-button mat-raised-button
      (click)="ModalState = 'basic';changePositionToCenter(false)">
      Less info</button>
    <button *ngIf="ModalState != 'moreInfo'" mat-button mat-raised-button
      (click)=" ModalState = 'moreInfo'; changePositionToRHS()">More
      info</button>
    <button *ngIf="ModalState !== 'addToMap' && !IsEdit" mat-button mat-raised-button
      (click)="ModalState = 'addToMap'">+</button>
    <button *ngIf="ModalState !== 'addToMap' && IsEdit" mat-button mat-raised-button
      (click)="ModalState = 'addToMap'; changePositionTopOfCenter()">Edit</button>

  </mat-dialog-actions>
</div>
<mat-icon *ngIf="ModalState !== 'moreInfo'" class="down-arrow-to-location">arrow_downward</mat-icon>